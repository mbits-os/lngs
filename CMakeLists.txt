cmake_minimum_required (VERSION 2.8)
project (locale)
set(CMAKE_MODULE_PATH
  ${PROJECT_SOURCE_DIR}/cmake
  ${CMAKE_MODULE_PATH})

find_package(Git)

set(LOCALE_VERSION_MAJOR 0)
set(LOCALE_VERSION_MINOR 3)
set(LOCALE_VERSION_PATCH 0)
set(LOCALE_VERSION_BUILD 0)
set(LOCALE_VERSION_STABILITY "-alpha")
set(LOCALE_VERSION ${LOCALE_VERSION_MAJOR}.${LOCALE_VERSION_MINOR}.${LOCALE_VERSION_PATCH} )
set(LOCALE_VERSION_SHORT ${LOCALE_VERSION_MAJOR}.${LOCALE_VERSION_MINOR} )
if (LOCALE_VERSION_BUILD)
set(LOCALE_VERSION_FULL ${LOCALE_VERSION_MAJOR}.${LOCALE_VERSION_MINOR}.${LOCALE_VERSION_PATCH}${LOCALE_VERSION_STABILITY}+${LOCALE_VERSION_BUILD} )
else()
set(LOCALE_VERSION_FULL ${LOCALE_VERSION_MAJOR}.${LOCALE_VERSION_MINOR}.${LOCALE_VERSION_PATCH}${LOCALE_VERSION_STABILITY} )
endif()

execute_process(
  COMMAND "${GIT_EXECUTABLE}" describe --tags HEAD
  WORKING_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}"
  RESULT_VARIABLE LOCALE_VERSION_COMMIT_res
  OUTPUT_VARIABLE LOCALE_VERSION_COMMIT
  ERROR_QUIET
  OUTPUT_STRIP_TRAILING_WHITESPACE)
if(NOT LOCALE_VERSION_COMMIT_res EQUAL 0)
  set(LOCALE_VERSION_COMMIT "")
endif()

set_property(GLOBAL PROPERTY USE_FOLDERS ON)

add_subdirectory(libs)
add_subdirectory(lngs)
